!function(r){function i(e){var t=[];if(e)for(var n in e){var r=n+"="+e[n];t.push(r)}var o="random="+Date.now().toString().substr(-5,5);return t.push(o),t.join("&")}r.Tool={ajaxRequest:function(e,t,n){var r=new XMLHttpRequest,o=e.method.toLowerCase()||"get",a=e.url,s=e.params||null;if("get"===o){var u=a+"?"+i(s);r.open("get",u,!0),r.send()}else r.open("post",a,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("X-CSRFToken",function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}("csrftoken")),r.send(i(s));r.addEventListener("readystatechange",function(){if(4===r.readyState)if(200===r.status){if(t)return t(r),r}else n&&n(r)})},jsonp:function(t){var e="getData"+Math.random().toString().substr(-5);r[e]=function(e){t.success(e),n.remove()};var n=document.createElement("script");n.src=t.url+"?caller="+e,document.body.appendChild(n)}}}(window);